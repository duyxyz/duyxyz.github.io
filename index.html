<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Duy Portfolio</title>
<style>
  :root { --fg:#fff; --fg-dim:#ccc; --bg:#000; }
  body {
    margin: 0; padding: 0;
    font-family: 'Inter','Segoe UI',Tahoma,sans-serif;
    color: var(--fg); background: var(--bg);
    text-align: center; overflow-x: hidden;
  }
  #space-bg { position: fixed; inset: 0; z-index: -1; display:block; }
  .container { max-width: 800px; margin: auto; padding: 20px; }
  header {
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
  }
  header img{
    width:90px;height:90px;border-radius:50%;object-fit:cover;
    border:2px solid var(--fg);cursor:pointer;
    transition: transform .25s ease;
  }
  header img:hover{ transform: scale(1.03); }
  header h1{ font-size:1.8rem;margin:0;color:var(--fg); }
  .search-box{
    display:flex;align-items:center;background:rgba(0,0,0,.5);
    border:1px solid var(--fg);border-radius:25px;padding:8px 12px;
    width:100%;max-width:320px;margin:20px auto;
  }
  .search-box svg{ flex-shrink:0;width:18px;height:18px;stroke:var(--fg); }
  .search-box input{
    flex:1;border:none;outline:none;background:transparent;color:var(--fg);
    font-size:1rem;padding-left:8px;
  }
  .contact-info{ margin:20px 0; display:none; opacity:0; transition:opacity .4s ease; }
  .contact-info.show{ display:block; opacity:1; }
  .contact-info div{ margin-bottom:10px; }
  .contact-info a{ color:var(--fg); text-decoration:none; }
  .contact-info a:hover{ text-decoration:underline; }
  .footer-buttons{
    display:flex;justify-content:center;gap:10px;margin-top:20px;flex-wrap:wrap;
  }
  .btn{
    display:inline-flex;align-items:center;gap:6px;background:transparent;
    border:1px solid var(--fg);color:var(--fg);padding:8px 14px;border-radius:25px;
    cursor:pointer;transition:all .25s ease-in-out;text-decoration:none;font-size:.95rem;
  }
  .btn:hover{ background:rgba(255,255,255,.15); transform: translateY(-2px); }
  #datetime{ margin-top:20px;font-size:1rem;color:var(--fg-dim); }
  @media (max-width:600px){
    header img{ width:75px;height:75px; }
    header h1{ font-size:1.4rem; }
    .search-box{ max-width:260px; }
    .search-box input{ font-size:.95rem; }
    .btn{ padding:7px 12px; font-size:.9rem; }
  }
</style>
</head>
<body>
<canvas id="space-bg"></canvas>
<div class="container">
  <header>
    <img src="https://avatars.githubusercontent.com/u/217141310?s=400&v=4" alt="Avatar" id="avatar" />
    <h1>Nguyễn Minh Duy</h1>
  </header>
  <div class="search-box">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="7" stroke-width="2"/>
      <line x1="16" y1="16" x2="21" y2="21" stroke-width="2"/>
    </svg>
    <input type="text" id="nav-input" placeholder="Enter keyword and press Enter..." />
  </div>
  <div class="contact-info" id="contact">
    <div><a href="mailto:ngduy10102006@gmail.com">Mail</a></div>
    <div><a href="tel:+84329200210">Phone</a></div>
    <div><a href="https://www.facebook.com/S999999" target="_blank">Facebook</a></div>
    <div><a href="https://greasyfork.org/users/1485109" target="_blank">GreasyFork</a></div>
    <div><a href="https://sourceforge.net/u/duy1nuis/" target="_blank">SourceForge</a></div>
    <div><a href="https://duyxyz.github.io/app" target="_blank">App Store</a></div>
  </div>
  <div class="footer-buttons">
    <a href="https://github.com/duyxyz" target="_blank" class="btn">GitHub</a>
    <a href="https://duyxyz.github.io/bank" target="_blank" class="btn">Buy me a coffee</a>
  </div>
  <div id="datetime"></div>
</div>
<script>
  // Navigation
  document.getElementById('nav-input').addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      const keyword = e.target.value.trim();
      if (keyword) window.location.href = `https://duyxyz.github.io/${encodeURIComponent(keyword)}`;
    }
  });
  // Toggle contact
  document.getElementById('avatar').addEventListener('click', () => {
    document.getElementById('contact').classList.toggle('show');
  });
  // Canvas setup
  const canvas = document.getElementById('space-bg');
  const ctx = canvas.getContext('2d');
  let stars = [], meteors = [];
  function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    createStars(Math.min(300, Math.floor(canvas.width * canvas.height / 5000)));
  }
  window.addEventListener('resize', resizeCanvas);
  // Create stars
  function createStars(count){
    stars.length = 0;
    for(let i=0;i<count;i++){
      stars.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        r: Math.random()*1.5 + 0.2,
        a: Math.random()*0.9 + 0.1,
        vy: Math.random()*0.3 + 0.05
      });
    }
  }
  // Create meteor
  function spawnMeteor(){
    const side = Math.random() < 0.5 ? 'left' : 'right';
    const y = Math.random() * canvas.height * 0.5;
    const length = Math.random() * 80 + 50;
    const speed = Math.random() * 4 + 3;
    meteors.push({
      x: side === 'left' ? -length : canvas.width + length,
      y,
      len: length,
      speedX: side === 'left' ? speed : -speed,
      speedY: speed * 0.5,
      alpha: 1
    });
  }
  setInterval(spawnMeteor, 1500);
  // Draw loop
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Stars
    for(const s of stars){
      s.y += s.vy;
      if(s.y - s.r > canvas.height){ s.y = -s.r; s.x = Math.random()*canvas.width; }
      ctx.globalAlpha = s.a;
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
      ctx.fillStyle = "#fff";
      ctx.fill();
    }
    ctx.globalAlpha = 1;
    // Meteors
    for(const m of meteors){
      m.x += m.speedX;
      m.y += m.speedY;
      m.alpha *= 0.97;
      ctx.strokeStyle = `rgba(255,200,100,${m.alpha})`;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(m.x, m.y);
      ctx.lineTo(m.x - m.speedX * 5, m.y - m.speedY * 5);
      ctx.stroke();
    }
    meteors = meteors.filter(m => m.alpha > 0.05);
    requestAnimationFrame(draw);
  }
  resizeCanvas();
  draw();
  // Date-time update
  function updateDateTime(){
    const now = new Date();
    const daysVN = ["Chủ nhật","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"];
    document.getElementById("datetime").textContent =
      `${daysVN[now.getDay()]}, ${now.toLocaleDateString("vi-VN")} - ${now.toLocaleTimeString("vi-VN")}`;
  }
  setInterval(updateDateTime, 1000);
  updateDateTime();
</script>
</body>
</html>
